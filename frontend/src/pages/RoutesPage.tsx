import React, { useEffect, useState } from 'react'; import axios from 'axios'; const API='http://localhost:4000'; export default function RoutesPage(){ const [routes,setRoutes]=useState<any[]>([]); useEffect(()=>{ axios.get(API+'/routes').then(r=>setRoutes(r.data)).catch(()=>setRoutes([])) },[]); return (<div><h2 className='text-xl font-semibold mb-2'>Routes</h2><table className='w-full border'><thead className='bg-gray-100'><tr><th className='p-2'>routeId</th><th className='p-2'>vesselType</th><th className='p-2'>fuelType</th><th className='p-2'>year</th><th className='p-2'>ghgIntensity</th><th className='p-2'>action</th></tr></thead><tbody>{routes.map(r=>(<tr key={r.routeId}><td className='p-2'>{r.routeId}</td><td className='p-2'>{r.vesselType}</td><td className='p-2'>{r.fuelType}</td><td className='p-2'>{r.year}</td><td className='p-2'>{r.ghgIntensity}</td><td className='p-2'><button className='bg-green-600 text-white px-2 py-1 rounded' onClick={()=>axios.post(`${API}/routes/${r.routeId}/baseline`).then(()=>alert('Baseline set'))}>Set Baseline</button></td></tr>))}</tbody></table></div>) }
