import React, { useEffect, useState } from 'react'; import axios from 'axios'; const API='http://localhost:4000'; export default function ComparePage(){ const [data,setData]=useState<any|null>(null); useEffect(()=>{ axios.get(API+'/routes/comparison').then(r=>setData(r.data)).catch(()=>setData(null)) },[]); if(!data) return <div>Loading...</div>; return (<div><h2 className='text-xl font-semibold mb-2'>Compare</h2><p>Baseline: {data.baseline.routeId} ({data.baseline.ghgIntensity})</p><table className='w-full border mt-2'><thead className='bg-gray-100'><tr><th className='p-2'>routeId</th><th className='p-2'>ghg</th><th className='p-2'>% diff</th><th className='p-2'>compliant</th></tr></thead><tbody>{data.comparisons.map((c:any)=>(<tr key={c.routeId}><td className='p-2'>{c.routeId}</td><td className='p-2'>{c.ghgIntensity.toFixed(2)}</td><td className='p-2'>{c.percentDiff.toFixed(2)}%</td><td className='p-2'>{c.compliant?'✅':'❌'}</td></tr>))}</tbody></table></div>) }
